import{_ as D}from"../chunks/preload-helper-e4860ae8.js";import{S as L,i as O,s as z,e as S,k as C,t as F,L as N,c as k,a as T,d as h,m as J,h as W,M as U,b as y,J as w,g as V,N as j,K as B,O as G,v as K,P as Z}from"../chunks/vendor-50ab64c3.js";function H(e){let l,f,s,i,t,m,o,d,b,n,v,x,E,p,g,P;return{c(){l=S("script"),s=S("script"),t=C(),m=S("div"),o=S("div"),d=S("input"),b=C(),n=S("img"),x=C(),E=S("span"),p=F("\uC120\uD0DD\uD558\uAE30"),this.h()},l(u){const r=N('[data-svelte="svelte-1neeb6f"]',document.head);l=k(r,"SCRIPT",{src:!0});var _=T(l);_.forEach(h),s=k(r,"SCRIPT",{src:!0});var c=T(s);c.forEach(h),r.forEach(h),t=J(u),m=k(u,"DIV",{class:!0});var M=T(m);o=k(M,"DIV",{class:!0});var I=T(o);d=k(I,"INPUT",{class:!0,type:!0}),b=J(I),n=k(I,"IMG",{class:!0,src:!0,alt:!0}),x=J(I),E=k(I,"SPAN",{});var R=T(E);p=W(R,"\uC120\uD0DD\uD558\uAE30"),R.forEach(h),I.forEach(h),M.forEach(h),this.h()},h(){U(l.src,f="https://cdn.jsdelivr.net/npm/web-streams-polyfill@2.0.2/dist/ponyfill.min.js")||y(l,"src",f),U(s.src,i="https://cdn.jsdelivr.net/npm/streamsaver@2.0.3/StreamSaver.min.js")||y(s,"src",i),y(d,"class","hidden"),y(d,"type","file"),y(n,"class","w-14 h-auto py-1"),U(n.src,v="file-text.svg")||y(n,"src",v),y(n,"alt","file_icon"),y(o,"class","rounded border border-gray-300 px-14 py-10 cursor-pointer"),y(m,"class","w-screen h-screen flex items-center justify-center flex-col select-none")},m(u,r){w(document.head,l),w(document.head,s),V(u,t,r),V(u,m,r),w(m,o),w(o,d),e[4](d),w(o,b),w(o,n),w(o,x),w(o,E),w(E,p),g||(P=[j(d,"change",e[5]),j(d,"change",e[3]),j(o,"click",e[2])],g=!0)},p:B,i:B,o:B,d(u){h(l),h(s),u&&h(t),u&&h(m),e[4](null),g=!1,G(P)}}}const a=1024e4,A=32;function q(e){return new TextDecoder().decode(e)}function Q(e){return new TextEncoder().encode(e)}function X(e){if(e=new Uint8Array(e),e.slice(0,8).reduce((s,i)=>s+i)!=0)return;let l=e[8];if(e.slice(9,16).reduce((s,i)=>s+i)!=0)return;let f=parseInt(q(e.slice(16,24)),16);if(q(e.slice(24,32))=="L3000009")return{blockCount:l,crc:f}}function Y(e){let l=new Uint8Array(a);e=Q(e);let f=!1,s=0,i=0;for(let t=0;t<a;t++)l[t]=t%256;for(let t=0;t<a;t++){if(f){f=!1,s++;continue}s>=e.length&&(s=0,t+=1),f=!0,l[t]+=e[i++],i>=e.length&&(i=0)}return l}function $(e,l,f){let s;K(async()=>{s=await D(()=>import("../chunks/StreamSaver-45bc9e71.js").then(function(n){return n.S}),[])});let i,t;function m(){t&&t.click()}async function o(){if(i&&i.length>0){let n=i[0],v=n.size,x=await n.slice(v-A).arrayBuffer();X(x)||alert("J2J \uD30C\uC77C\uC774 \uC544\uB2D9\uB2C8\uB2E4.");let p=Math.max(Math.floor(a/(v*100)),1),g=Y("qwerty");const u=s.createWriteStream("wow.exe",{size:v-A}).getWriter();for(let r=0;r<=p;r++){let _=new Uint8Array(await n.slice(r*a,r*a+a).arrayBuffer());for(let c=0;c<a;c++)_[c]^=g[c],g[c]^=_[c];u.write(_),_=null}{let r=new Uint8Array(await n.slice(p*a,v-p*a-A).arrayBuffer());u.write(r),r=null}for(let r=0;r<=p;r++){let _=new Uint8Array(await n.slice(v-p*a-A+r*a,v-p*a-A+r*a+a).arrayBuffer());for(let c=0;c<a;c++)_[c]^=g[c],g[c]^=_[c];_=null}u.close()}}function d(n){Z[n?"unshift":"push"](()=>{t=n,f(1,t)})}function b(){i=this.files,f(0,i)}return[i,t,m,o,d,b]}class re extends L{constructor(l){super();O(this,l,$,H,z,{})}}export{re as default};
